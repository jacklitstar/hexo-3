# 1
$$
\begin{aligned}
P_I(x,\sigma) &= x_1^2+x_2^2+\frac 1 2 \sigma [(\min\{2-2x_1-x_2,0\})^2+(\min\{x_2-1,0\})^2]\\
&=\begin{cases}x_1^2+x_2^2 &++\\
x_1^2+x_2^2+\frac 1 2\sigma(2-2x_1-x_2)^2 & -+\\
x_1^2+x_2^2+\frac 1 2 \sigma (x_2-1)^2&+-\\
x_1^2+x_2^2+\frac 1 2\sigma[(2-2x_1-x_2)^2+(x_2-1)^2]&--
\end{cases}
\end{aligned}
$$
$$
\frac{\partial P_I}{\partial x_1} = \begin{cases}
2x_1&++\\
(2+4\sigma)x_1 + 2\sigma x_2-4\sigma&-+\\
2x_1 &+-\\
(2+4\sigma)x_1 + 2\sigma x_2-4\sigma&--
\end{cases}
$$
$$
\frac{\partial P_I}{\partial x_2}\begin{cases}
2x_2 &++\\
(2+\sigma)x_2 + 2\sigma x_1-2\sigma&-+\\
(2+\sigma)x_2 -\sigma&+-\\
(2+2\sigma)x_2 + 2\sigma x_1-3\sigma&--
\end{cases}
$$
在 $+-$ 和 $-+$ 中计算:
$$
\begin{cases}
x_1 = \frac{8\sigma^2+4\sigma}{10\sigma^2+9\sigma+2},x_2=\frac{2\sigma}{2\sigma+2}&-+\\
x_1 = 0, x_2 = \frac{\sigma}{2+\sigma}&+-
\end{cases}
$$
let $\sigma \to \infty$ : $x = (0,1)$

# 2 
$$
B_L (x,\mu) = 2x_1+3x_2 - \mu\ln (1-2x_1^2-x_2^2)
$$
$$
\frac{\partial B_L}{\partial x_1} = 2+\mu\frac{4x_1}{1-2x_1^2-x_2^2} = 0\\
\frac{\partial B_L}{\partial x_2} = 3+\mu\frac{2x_2}{1-2x_1^2-x_2^2} =0
$$
$$x = \frac{\mu\pm\sqrt{\mu+11}}{11}(1,3)$$
let $\mu\to 0$
$$x = -\frac{\sqrt{11}}{11}(1,3)$$

# 3
一阶必要条件,即KKT条件.
$$
\min f(x)\\
\mathrm{s.t. }\; c(x) - s^2 = 0
$$
$$
\bar\Phi(x,s,\lambda,\sigma) = f(x) - \lambda (c(x)-s^2) +\frac 1 2\sigma (c(x)-s^2)^2\\
x^*,s^* = \arg\min_x\min_s \bar\Phi(x,s,\lambda,\sigma)
$$
$$
\frac{\partial \bar \Phi}{\partial s^2} = \lambda - \sigma c(x) + \sigma s^2 = 0 \\
\therefore \lambda^* = \sigma(c(x^*)-{s^*}^2)\\
\begin{aligned}
\nabla_x\bar\Phi|_{x^*} &= \nabla f(x^*) -\lambda^* a(x^*) + \sigma a(x^*)c(x^*) - \sigma a(x^*)s^2\\
&=\nabla f(x^*)\\
&=0
\end{aligned}
$$
所以是原最优化问题的解，故满足必要条件。

# 4
$$
G = \begin{bmatrix}2 & &\\& 2 &\\& & 2\end{bmatrix}\quad h=0\quad A^T = \begin{bmatrix}1 & 2 & -1\\1&-1&1\end{bmatrix}\quad b = \begin{bmatrix}-4\\2\end{bmatrix}
$$
1. 变量消去法：
$B = \{2,3\},N=\{1\}: \quad x_2 =2-2x_1,\;x_3 = -3x_1$
$$\hat q (x_N) = 14x_1^2-8x_1+4$$
$x_1^* = \frac 2 7\quad x^* = (\frac 2 7, \frac {10}{7},-\frac 6 7)^T $ 
2. Lagrange方法：
$$
\begin{bmatrix}
2 &0&0 &-1&-1\\0& 2 &0 &-2&1\\0&0 & 2&1 &-1\\-1 &-2 &1 &0 &0 \\ -1 &1 & -1 &0 &0
\end{bmatrix}
\begin{bmatrix}
x_1\\x_2\\x_2\\\lambda_1\\\lambda_2
\end{bmatrix}=
\begin{bmatrix}
0\\0\\0\\-4\\2
\end{bmatrix}
$$
得到同上$x^* = (\frac 2 7, \frac {10}{7},-\frac 6 7)^T$

# 5
Lagrange方法:
$$\begin{bmatrix}I &-A^T\\-A &0\end{bmatrix}\begin{bmatrix}x\\\lambda\end{bmatrix} = \begin{bmatrix} a \\-b\end{bmatrix}$$
解方程即得证：
$$Ix - A^T\lambda= a\\
-Ax = -b\\
AX - AA^T \lambda = Aa\\
b - AA^T\lambda = Aa\\
\lambda = (AA^T)^{-1}(b-Aa)\\
x^* = a +A^T(AA^T)^{-1}(b-Aa)
$$

# 6

